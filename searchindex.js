Search.setIndex({"docnames": ["README", "api", "generated/rxn.metrics", "generated/rxn.metrics.class_tokens", "generated/rxn.metrics.class_tokens.convert_class_token_idx_for_translation_models", "generated/rxn.metrics.class_tokens.maybe_prepare_class_token_files", "generated/rxn.metrics.classification_translation", "generated/rxn.metrics.classification_translation.classification_translation", "generated/rxn.metrics.classification_translation.create_rxn_from_files", "generated/rxn.metrics.classification_translation.maybe_classify_predictions", "generated/rxn.metrics.context_metrics", "generated/rxn.metrics.context_metrics.ContextMetrics", "generated/rxn.metrics.context_metrics.fraction_of_identical_compounds", "generated/rxn.metrics.context_metrics.identical_fraction", "generated/rxn.metrics.forward_metrics", "generated/rxn.metrics.forward_metrics.ForwardMetrics", "generated/rxn.metrics.metrics", "generated/rxn.metrics.metrics.class_diversity", "generated/rxn.metrics.metrics.coverage", "generated/rxn.metrics.metrics.round_trip_accuracy", "generated/rxn.metrics.metrics.top_n_accuracy", "generated/rxn.metrics.metrics_calculator", "generated/rxn.metrics.metrics_calculator.MetricsCalculator", "generated/rxn.metrics.metrics_files", "generated/rxn.metrics.metrics_files.ContextFiles", "generated/rxn.metrics.metrics_files.ForwardFiles", "generated/rxn.metrics.metrics_files.MetricsFiles", "generated/rxn.metrics.metrics_files.RetroFiles", "generated/rxn.metrics.retro_metrics", "generated/rxn.metrics.retro_metrics.RetroMetrics", "generated/rxn.metrics.run_metrics", "generated/rxn.metrics.run_metrics.evaluate_metrics", "generated/rxn.metrics.run_metrics.get_metrics_calculator", "generated/rxn.metrics.run_metrics.get_metrics_files", "generated/rxn.metrics.run_metrics.run_model_for_metrics", "generated/rxn.metrics.scripts", "generated/rxn.metrics.scripts.ensure_data_dimension", "generated/rxn.metrics.scripts.ensure_data_dimension.ensure_data_dimension", "generated/rxn.metrics.scripts.join_data_files", "generated/rxn.metrics.scripts.join_data_files.join_data_files", "generated/rxn.metrics.scripts.join_data_files.sorted_chunk_directories", "generated/rxn.metrics.scripts.parse_metrics_into_csv", "generated/rxn.metrics.scripts.parse_metrics_into_csv.get_metric_from_dir", "generated/rxn.metrics.scripts.prepare_context_metrics", "generated/rxn.metrics.scripts.prepare_forward_metrics", "generated/rxn.metrics.scripts.prepare_retro_metrics", "generated/rxn.metrics.scripts.reorder_retro_predictions_class_token", "generated/rxn.metrics.scripts.reorder_retro_predictions_class_token.reorder_retro_predictions_class_token", "generated/rxn.metrics.scripts.rxn_evaluate_metrics", "generated/rxn.metrics.tokenize_file", "generated/rxn.metrics.tokenize_file.classification_file_is_tokenized", "generated/rxn.metrics.tokenize_file.classification_string_is_tokenized", "generated/rxn.metrics.tokenize_file.detokenize_class", "generated/rxn.metrics.tokenize_file.detokenize_class_line", "generated/rxn.metrics.tokenize_file.detokenize_classification_file", "generated/rxn.metrics.tokenize_file.tokenize_class", "generated/rxn.metrics.tokenize_file.tokenize_class_line", "generated/rxn.metrics.tokenize_file.tokenize_classification_file", "generated/rxn.metrics.true_reactant_accuracy", "generated/rxn.metrics.true_reactant_accuracy.get_standardized_true_reactants", "generated/rxn.metrics.true_reactant_accuracy.maybe_determine_true_reactants", "generated/rxn.metrics.true_reactant_accuracy.true_reactant_accuracy", "generated/rxn.metrics.true_reactant_accuracy.true_reactant_environment_check", "generated/rxn.metrics.utils", "generated/rxn.metrics.utils.combine_precursors_and_products", "generated/rxn.metrics.utils.combine_precursors_and_products_from_files", "generated/rxn.metrics.utils.get_sequence_multiplier", "index"], "filenames": ["README.md", "api.rst", "generated/rxn.metrics.rst", "generated/rxn.metrics.class_tokens.rst", "generated/rxn.metrics.class_tokens.convert_class_token_idx_for_translation_models.rst", "generated/rxn.metrics.class_tokens.maybe_prepare_class_token_files.rst", "generated/rxn.metrics.classification_translation.rst", "generated/rxn.metrics.classification_translation.classification_translation.rst", "generated/rxn.metrics.classification_translation.create_rxn_from_files.rst", "generated/rxn.metrics.classification_translation.maybe_classify_predictions.rst", "generated/rxn.metrics.context_metrics.rst", "generated/rxn.metrics.context_metrics.ContextMetrics.rst", "generated/rxn.metrics.context_metrics.fraction_of_identical_compounds.rst", "generated/rxn.metrics.context_metrics.identical_fraction.rst", "generated/rxn.metrics.forward_metrics.rst", "generated/rxn.metrics.forward_metrics.ForwardMetrics.rst", "generated/rxn.metrics.metrics.rst", "generated/rxn.metrics.metrics.class_diversity.rst", "generated/rxn.metrics.metrics.coverage.rst", "generated/rxn.metrics.metrics.round_trip_accuracy.rst", "generated/rxn.metrics.metrics.top_n_accuracy.rst", "generated/rxn.metrics.metrics_calculator.rst", "generated/rxn.metrics.metrics_calculator.MetricsCalculator.rst", "generated/rxn.metrics.metrics_files.rst", "generated/rxn.metrics.metrics_files.ContextFiles.rst", "generated/rxn.metrics.metrics_files.ForwardFiles.rst", "generated/rxn.metrics.metrics_files.MetricsFiles.rst", "generated/rxn.metrics.metrics_files.RetroFiles.rst", "generated/rxn.metrics.retro_metrics.rst", "generated/rxn.metrics.retro_metrics.RetroMetrics.rst", "generated/rxn.metrics.run_metrics.rst", "generated/rxn.metrics.run_metrics.evaluate_metrics.rst", "generated/rxn.metrics.run_metrics.get_metrics_calculator.rst", "generated/rxn.metrics.run_metrics.get_metrics_files.rst", "generated/rxn.metrics.run_metrics.run_model_for_metrics.rst", "generated/rxn.metrics.scripts.rst", "generated/rxn.metrics.scripts.ensure_data_dimension.rst", "generated/rxn.metrics.scripts.ensure_data_dimension.ensure_data_dimension.rst", "generated/rxn.metrics.scripts.join_data_files.rst", "generated/rxn.metrics.scripts.join_data_files.join_data_files.rst", "generated/rxn.metrics.scripts.join_data_files.sorted_chunk_directories.rst", "generated/rxn.metrics.scripts.parse_metrics_into_csv.rst", "generated/rxn.metrics.scripts.parse_metrics_into_csv.get_metric_from_dir.rst", "generated/rxn.metrics.scripts.prepare_context_metrics.rst", "generated/rxn.metrics.scripts.prepare_forward_metrics.rst", "generated/rxn.metrics.scripts.prepare_retro_metrics.rst", "generated/rxn.metrics.scripts.reorder_retro_predictions_class_token.rst", "generated/rxn.metrics.scripts.reorder_retro_predictions_class_token.reorder_retro_predictions_class_token.rst", "generated/rxn.metrics.scripts.rxn_evaluate_metrics.rst", "generated/rxn.metrics.tokenize_file.rst", "generated/rxn.metrics.tokenize_file.classification_file_is_tokenized.rst", "generated/rxn.metrics.tokenize_file.classification_string_is_tokenized.rst", "generated/rxn.metrics.tokenize_file.detokenize_class.rst", "generated/rxn.metrics.tokenize_file.detokenize_class_line.rst", "generated/rxn.metrics.tokenize_file.detokenize_classification_file.rst", "generated/rxn.metrics.tokenize_file.tokenize_class.rst", "generated/rxn.metrics.tokenize_file.tokenize_class_line.rst", "generated/rxn.metrics.tokenize_file.tokenize_classification_file.rst", "generated/rxn.metrics.true_reactant_accuracy.rst", "generated/rxn.metrics.true_reactant_accuracy.get_standardized_true_reactants.rst", "generated/rxn.metrics.true_reactant_accuracy.maybe_determine_true_reactants.rst", "generated/rxn.metrics.true_reactant_accuracy.true_reactant_accuracy.rst", "generated/rxn.metrics.true_reactant_accuracy.true_reactant_environment_check.rst", "generated/rxn.metrics.utils.rst", "generated/rxn.metrics.utils.combine_precursors_and_products.rst", "generated/rxn.metrics.utils.combine_precursors_and_products_from_files.rst", "generated/rxn.metrics.utils.get_sequence_multiplier.rst", "index.md"], "titles": ["RXN package for the calculation of metrics for OpenNMT-based models", "API", "rxn.metrics", "rxn.metrics.class_tokens", "rxn.metrics.class_tokens.convert_class_token_idx_for_translation_models", "rxn.metrics.class_tokens.maybe_prepare_class_token_files", "rxn.metrics.classification_translation", "rxn.metrics.classification_translation.classification_translation", "rxn.metrics.classification_translation.create_rxn_from_files", "rxn.metrics.classification_translation.maybe_classify_predictions", "rxn.metrics.context_metrics", "rxn.metrics.context_metrics.ContextMetrics", "rxn.metrics.context_metrics.fraction_of_identical_compounds", "rxn.metrics.context_metrics.identical_fraction", "rxn.metrics.forward_metrics", "rxn.metrics.forward_metrics.ForwardMetrics", "rxn.metrics.metrics", "rxn.metrics.metrics.class_diversity", "rxn.metrics.metrics.coverage", "rxn.metrics.metrics.round_trip_accuracy", "rxn.metrics.metrics.top_n_accuracy", "rxn.metrics.metrics_calculator", "rxn.metrics.metrics_calculator.MetricsCalculator", "rxn.metrics.metrics_files", "rxn.metrics.metrics_files.ContextFiles", "rxn.metrics.metrics_files.ForwardFiles", "rxn.metrics.metrics_files.MetricsFiles", "rxn.metrics.metrics_files.RetroFiles", "rxn.metrics.retro_metrics", "rxn.metrics.retro_metrics.RetroMetrics", "rxn.metrics.run_metrics", "rxn.metrics.run_metrics.evaluate_metrics", "rxn.metrics.run_metrics.get_metrics_calculator", "rxn.metrics.run_metrics.get_metrics_files", "rxn.metrics.run_metrics.run_model_for_metrics", "rxn.metrics.scripts", "rxn.metrics.scripts.ensure_data_dimension", "rxn.metrics.scripts.ensure_data_dimension.ensure_data_dimension", "rxn.metrics.scripts.join_data_files", "rxn.metrics.scripts.join_data_files.join_data_files", "rxn.metrics.scripts.join_data_files.sorted_chunk_directories", "rxn.metrics.scripts.parse_metrics_into_csv", "rxn.metrics.scripts.parse_metrics_into_csv.get_metric_from_dir", "rxn.metrics.scripts.prepare_context_metrics", "rxn.metrics.scripts.prepare_forward_metrics", "rxn.metrics.scripts.prepare_retro_metrics", "rxn.metrics.scripts.reorder_retro_predictions_class_token", "rxn.metrics.scripts.reorder_retro_predictions_class_token.reorder_retro_predictions_class_token", "rxn.metrics.scripts.rxn_evaluate_metrics", "rxn.metrics.tokenize_file", "rxn.metrics.tokenize_file.classification_file_is_tokenized", "rxn.metrics.tokenize_file.classification_string_is_tokenized", "rxn.metrics.tokenize_file.detokenize_class", "rxn.metrics.tokenize_file.detokenize_class_line", "rxn.metrics.tokenize_file.detokenize_classification_file", "rxn.metrics.tokenize_file.tokenize_class", "rxn.metrics.tokenize_file.tokenize_class_line", "rxn.metrics.tokenize_file.tokenize_classification_file", "rxn.metrics.true_reactant_accuracy", "rxn.metrics.true_reactant_accuracy.get_standardized_true_reactants", "rxn.metrics.true_reactant_accuracy.maybe_determine_true_reactants", "rxn.metrics.true_reactant_accuracy.true_reactant_accuracy", "rxn.metrics.true_reactant_accuracy.true_reactant_environment_check", "rxn.metrics.utils", "rxn.metrics.utils.combine_precursors_and_products", "rxn.metrics.utils.combine_precursors_and_products_from_files", "rxn.metrics.utils.get_sequence_multiplier", "RXN metrics"], "terms": {"thi": [0, 7, 13, 50], "repositori": 0, "contain": [0, 11, 15, 29, 50, 65], "python": [0, 62, 67], "associ": 0, "script": [0, 67], "train": [0, 5], "reaction": [0, 9, 52, 55, 61, 64, 65], "librari": 0, "close": 0, "relat": 0, "onmt": 0, "which": 0, "handl": 0, "pipelin": 0, "The": [0, 13, 47, 59], "also": 0, "reli": 0, "other": [0, 17, 19], "see": 0, "util": [0, 67], "chemutil": 0, "link": 0, "github": 0, "document": 0, "pypi": 0, "wa": 0, "produc": 0, "through": 0, "collabor": 0, "project": 0, "involv": 0, "ibm": 0, "research": 0, "europ": 0, "syngenta": 0, "support": 0, "all": [0, 11, 15, 29], "oper": 0, "It": 0, "ha": 0, "been": 0, "test": 0, "follow": 0, "maco": 0, "big": 0, "sur": 0, "11": 0, "1": [0, 47, 50, 52, 55], "linux": 0, "ubuntu": 0, "18": 0, "04": 0, "4": 0, "A": 0, "version": 0, "3": [0, 7, 50, 52, 55], "6": 0, "7": 0, "8": 0, "recommend": 0, "9": 0, "abov": 0, "ar": [0, 11, 12, 13, 15, 17, 18, 19, 20, 22, 29, 47, 61, 62], "exp": 0, "cted": 0, "work": 0, "due": 0, "compat": 0, "select": 0, "can": [0, 17, 19], "from": [0, 11, 12, 15, 17, 18, 19, 20, 22, 24, 25, 27, 29, 42, 47, 61, 66], "pip": 0, "rdkit": 0, "rxnmapper": 0, "you": 0, "leav": 0, "out": 0, "extra": 0, "depend": [0, 47, 62], "alreadi": 0, "avail": [0, 9, 62], "your": 0, "environ": [0, 62], "don": 0, "t": [0, 17, 18, 19, 20, 66], "plan": 0, "true": [0, 59, 61, 62], "reactant": [0, 59, 61, 62], "accuraci": [0, 19, 20, 61], "For": [0, 13, 47], "local": 0, "develop": 0, "e": [0, 47, 52, 55, 61], "dev": 0, "best": 0, "launch": [0, 30], "one": [0, 5, 17, 19], "prepar": 0, "context": [0, 11, 13, 24, 30], "forward": [0, 12, 15, 17, 18, 19, 20, 25, 30, 61, 66], "retro": [0, 27, 29, 30, 47], "note": [0, 7, 11, 15, 22, 29], "run": 0, "directli": 0, "limit": 0, "likelihood": [0, 47], "make": [0, 7, 62], "error": [0, 50, 51], "If": [0, 5], "predict": [0, 7, 11, 12, 13, 15, 17, 18, 19, 20, 22, 26, 29, 47, 61, 66], "file": [0, 5, 7, 11, 15, 24, 25, 27, 29, 32, 39, 42, 50, 65], "evalu": [0, 24, 25, 27], "comput": [0, 11, 12, 15, 17, 18, 19, 20, 29, 61], "onli": [0, 9, 50], "To": 0, "aggreg": 0, "differ": [0, 16], "typic": 0, "after": 0, "tune": 0, "hyperparamet": 0, "pars": 0, "csv": 0, "modul": [2, 35, 67], "function": [3, 6, 7, 10, 16, 30, 36, 38, 41, 46, 49, 52, 55, 58, 63], "class_token_idx": 4, "sourc": [4, 5, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 20, 22, 24, 25, 26, 27, 29, 31, 32, 33, 34, 37, 39, 40, 42, 47, 50, 51, 52, 53, 54, 55, 56, 57, 59, 60, 61, 62, 64, 65, 66], "paramet": [4, 5, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 20, 22, 24, 25, 26, 27, 29, 31, 32, 33, 34, 37, 39, 40, 42, 47, 50, 51, 52, 53, 54, 55, 56, 57, 59, 60, 61, 62, 64, 65, 66], "int": [4, 5, 7, 9, 12, 17, 18, 19, 20, 34, 37, 47, 60, 61, 64, 66], "return": [4, 5, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 20, 22, 27, 29, 31, 32, 33, 34, 37, 39, 40, 42, 47, 50, 51, 52, 53, 54, 55, 56, 57, 59, 60, 61, 62, 64, 65, 66], "type": [4, 5, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 20, 22, 27, 29, 31, 32, 33, 34, 37, 39, 40, 42, 47, 50, 51, 52, 53, 54, 55, 56, 57, 59, 60, 61, 62, 64, 65, 66], "str": [4, 7, 8, 11, 12, 13, 15, 17, 22, 24, 25, 26, 27, 29, 31, 32, 33, 34, 37, 39, 42, 47, 50, 51, 52, 53, 54, 55, 56, 57, 59, 61, 64, 65], "retro_fil": [5, 9, 60], "model": [5, 7, 9, 11, 13, 15, 29, 30, 47, 52, 55], "class": [5, 7, 10, 11, 14, 15, 17, 21, 22, 23, 24, 25, 26, 27, 28, 29, 47, 50, 52, 55], "token": [5, 7, 47, 50, 51, 55], "creat": [5, 47], "expect": [5, 11, 15, 29], "src": 5, "target": 5, "option": [5, 9, 29, 59], "number": [5, 7, 47, 64, 66], "us": [5, 7, 47, 52, 55], "retrofil": [5, 9, 60], "inform": 5, "locat": [5, 24, 25, 27], "none": [5, 7, 8, 9, 29, 31, 34, 37, 39, 47, 54, 57, 59, 60, 62], "src_file": [7, 34], "tgt_file": [7, 34], "pred_fil": 7, "n_best": [7, 34], "beam_siz": [7, 34], "batch_siz": [7, 9, 34, 60], "gpu": [7, 9, 34], "max_length": 7, "as_external_command": 7, "fals": [7, 34], "do": 7, "classif": [7, 9, 51, 52, 55], "translat": 7, "take": [7, 13], "care": 7, "detoken": [7, 50, 51, 52], "input": [7, 52, 55], "check": 7, "made": 7, "canon": 7, "union": [7, 8, 24, 25, 26, 27, 31, 33, 37, 39, 47, 50, 54, 57, 65], "path": [7, 8, 9, 11, 15, 22, 27, 29, 34, 40, 42, 47, 50], "ground": [7, 11, 13, 15, 22, 29, 61, 66], "truth": [7, 11, 13, 15, 22, 29, 61, 66], "mandatori": 7, "where": [7, 47], "save": 7, "each": [7, 47], "beam": 7, "size": [7, 12, 13, 17, 18, 19, 20, 61, 66], "batch": 7, "bool": [7, 9, 34, 50, 51, 60, 62], "whether": [7, 50, 51], "default": [7, 26, 29, 34, 50, 54, 57], "maximum": 7, "sequenc": [7, 12, 17, 18, 19, 20, 61, 66], "length": 7, "input_file_precursor": 8, "input_file_product": 8, "output_fil": [8, 54, 57], "classification_model": 9, "classifi": 9, "determin": [9, 62], "divers": [9, 17], "execut": 9, "gt_tgt": [11, 26], "predicted_context": 11, "base": [11, 15, 22, 24, 25, 26, 27, 29], "metricscalcul": [11, 15, 29, 32], "common": [11, 15, 29], "start": [11, 15, 29, 47], "standard": [11, 15, 17, 19, 29, 59], "canonic": [11, 15, 29], "sort": [11, 15, 29, 47, 59], "etc": [11, 15, 29], "iter": [11, 15, 29, 37, 64, 65], "__init__": [11, 15, 22, 24, 25, 26, 27, 29], "method": [11, 15, 22, 24, 25, 26, 27, 29], "classmethod": [11, 15, 22, 29], "from_metrics_fil": [11, 15, 22, 29], "metrics_fil": [11, 15, 22, 29, 67], "build": [11, 15, 22, 29], "instanc": [11, 15, 22, 29], "metricsfil": [11, 15, 22, 24, 25, 27, 29, 32, 33], "object": [11, 15, 22, 26, 29], "get_metr": [11, 15, 22, 29], "calcul": [11, 15, 22, 29, 30, 67], "set": [11, 15, 22, 29, 64, 65], "constructor": [11, 15, 22, 29], "deriv": [11, 15, 22, 29], "dict": [11, 12, 15, 17, 18, 19, 20, 22, 29, 42, 61], "ani": [11, 15, 22, 29, 42], "ground_truth": [12, 13, 17, 18, 19, 20, 66], "fraction": [12, 13], "ident": [12, 13], "compound": [12, 13], "split": [12, 17, 18, 19], "n": [12, 17, 18, 19, 20, 47, 61], "th": [12, 17, 18, 19], "rais": [12, 17, 18, 19, 20, 50, 51, 52, 55, 61, 62, 66], "valueerror": [12, 17, 18, 19, 20, 50, 51, 52, 55, 61, 66], "list": [12, 13, 17, 18, 19, 20, 29, 40, 59, 61, 66], "incompat": [12, 17, 18, 19, 20, 61], "get_sequence_multipli": [12, 17, 18, 19, 20, 61], "float": [12, 13, 17, 18, 19, 20, 61], "dictionari": [12, 17, 18, 19, 20, 22, 61], "top": [12, 20, 61], "concept": 13, "overlap": 13, "hard": 13, "defin": 13, "uniqu": 13, "tent": 13, "implement": 13, "get": [13, 42, 59, 66], "an": [13, 64, 65], "idea": 13, "how": [13, 17, 19], "behav": 13, "As": 13, "denomin": 13, "whichev": 13, "larger": 13, "gt_product": [15, 29], "predicted_product": [15, 29], "definit": 16, "predicted_class": [17, 29], "valu": [17, 18, 19, 20, 61], "tupl": [17, 19], "deviat": [17, 19], "std": 17, "here": [17, 19], "measur": [17, 19], "much": [17, 19], "averag": [17, 19], "chang": [17, 19], "sampl": [17, 19, 47, 66], "typevar": [17, 18, 19, 20, 22, 66], "round": 19, "trip": 19, "std_dev": 19, "abc": 22, "them": [22, 47, 59], "abstract": 22, "cl": 22, "calculatort": 22, "bound": 22, "directori": [24, 25, 26, 27, 42], "hold": [24, 25, 27], "write": [24, 25, 27], "read": [24, 25, 27], "pathlik": [24, 25, 26, 27, 31, 33, 37, 39, 50, 54, 57, 65], "gt_src": 26, "txt": 26, "pred": 26, "predicted_canon": 26, "static": 27, "reorder": [27, 47], "add": 27, "extens": 27, "gt_precursor": 29, "predicted_precursor": 29, "gt_mapped_rxn": 29, "predicted_mapped_rxn": 29, "task": [31, 32, 33, 34], "files_path": [31, 33], "model_path": 34, "output_dir": [34, 37, 39], "initialize_logg": 34, "txt_file": 37, "max_dimens": 37, "input_dir": 39, "join": 39, "shutil": 39, "refer": 39, "http": 39, "stackoverflow": 39, "com": 39, "27077437": 39, "input_path": 40, "json": 42, "given": 42, "kei": 42, "ad": 42, "name": 42, "ground_truth_fil": 47, "predictions_fil": 47, "confidences_fil": 47, "fwd_predictions_fil": 47, "classes_predictions_fil": 47, "n_class_token": 47, "predit": 47, "gener": 47, "x": 47, "origin": 47, "order": 47, "like": 47, "g": [47, 52, 55], "0": 47, "top1": 47, "top2": 47, "log": 47, "we": 47, "wise": 47, "remov": 47, "so": 47, "new": 47, "i": [47, 61], "number_class_token": 47, "filepath": 50, "2": [50, 52, 55], "By": 50, "look": 50, "first": 50, "non": 50, "empti": 50, "line": [50, 51], "runtimeerror": [50, 62], "classification_lin": 51, "inspect": 51, "tokenized_class": 52, "perform": [52, 55], "transform": [52, 55], "string": [52, 55], "format": [52, 55], "correct": [52, 55], "class_lin": [53, 56], "invalid_placehold": [53, 54, 56, 57], "input_fil": [54, 57], "detokenized_class": 55, "mapped_rxn_smil": 59, "contribut": 59, "atom": [59, 61], "product": [59, 64, 65], "someth": 59, "right": 59, "do_reactant_check": [60, 62], "ground_truth_map": 61, "predictions_map": 61, "discard": 61, "reagent": 61, "map": 61, "sure": 62, "packag": 62, "requir": [62, 67], "applic": 62, "lack": 62, "precursor": [64, 65], "total_precursor": 64, "total_product": 64, "combin": [64, 65], "two": 64, "match": 64, "smile": [64, 65], "total": 64, "over": [64, 65], "precursors_fil": 65, "products_fil": 65, "multipli": 66, "have": 66, "inadequ": 66, "possibl": 66, "get_multipli": 66, "readm": 67, "system": 67, "instal": 67, "guid": 67, "api": 67, "class_token": 67, "classification_transl": 67, "context_metr": 67, "forward_metr": 67, "metrics_calcul": 67, "retro_metr": 67, "run_metr": 67, "tokenize_fil": 67, "true_reactant_accuraci": 67, "index": 67, "search": 67}, "objects": {"rxn": [[2, 0, 0, "-", "metrics"]], "rxn.metrics": [[3, 0, 0, "-", "class_tokens"], [6, 0, 0, "-", "classification_translation"], [10, 0, 0, "-", "context_metrics"], [14, 0, 0, "-", "forward_metrics"], [16, 0, 0, "-", "metrics"], [21, 0, 0, "-", "metrics_calculator"], [23, 0, 0, "-", "metrics_files"], [28, 0, 0, "-", "retro_metrics"], [30, 0, 0, "-", "run_metrics"], [35, 0, 0, "-", "scripts"], [49, 0, 0, "-", "tokenize_file"], [58, 0, 0, "-", "true_reactant_accuracy"], [63, 0, 0, "-", "utils"]], "rxn.metrics.class_tokens": [[4, 1, 1, "", "convert_class_token_idx_for_translation_models"], [5, 1, 1, "", "maybe_prepare_class_token_files"]], "rxn.metrics.classification_translation": [[7, 1, 1, "", "classification_translation"], [8, 1, 1, "", "create_rxn_from_files"], [9, 1, 1, "", "maybe_classify_predictions"]], "rxn.metrics.context_metrics": [[11, 2, 1, "", "ContextMetrics"], [12, 1, 1, "", "fraction_of_identical_compounds"], [13, 1, 1, "", "identical_fraction"]], "rxn.metrics.context_metrics.ContextMetrics": [[11, 3, 1, "", "__init__"], [11, 3, 1, "", "from_metrics_files"], [11, 3, 1, "", "get_metrics"]], "rxn.metrics.forward_metrics": [[15, 2, 1, "", "ForwardMetrics"]], "rxn.metrics.forward_metrics.ForwardMetrics": [[15, 3, 1, "", "__init__"], [15, 3, 1, "", "from_metrics_files"], [15, 3, 1, "", "get_metrics"]], "rxn.metrics.metrics": [[17, 1, 1, "", "class_diversity"], [18, 1, 1, "", "coverage"], [19, 1, 1, "", "round_trip_accuracy"], [20, 1, 1, "", "top_n_accuracy"]], "rxn.metrics.metrics_calculator": [[22, 2, 1, "", "MetricsCalculator"]], "rxn.metrics.metrics_calculator.MetricsCalculator": [[22, 3, 1, "", "__init__"], [22, 3, 1, "", "from_metrics_files"], [22, 3, 1, "", "get_metrics"]], "rxn.metrics.metrics_files": [[24, 2, 1, "", "ContextFiles"], [25, 2, 1, "", "ForwardFiles"], [26, 2, 1, "", "MetricsFiles"], [27, 2, 1, "", "RetroFiles"]], "rxn.metrics.metrics_files.ContextFiles": [[24, 3, 1, "", "__init__"]], "rxn.metrics.metrics_files.ForwardFiles": [[25, 3, 1, "", "__init__"]], "rxn.metrics.metrics_files.MetricsFiles": [[26, 3, 1, "", "__init__"]], "rxn.metrics.metrics_files.RetroFiles": [[27, 3, 1, "", "__init__"], [27, 3, 1, "", "reordered"]], "rxn.metrics.retro_metrics": [[29, 2, 1, "", "RetroMetrics"]], "rxn.metrics.retro_metrics.RetroMetrics": [[29, 3, 1, "", "__init__"], [29, 3, 1, "", "from_metrics_files"], [29, 3, 1, "", "get_metrics"]], "rxn.metrics.run_metrics": [[31, 1, 1, "", "evaluate_metrics"], [32, 1, 1, "", "get_metrics_calculator"], [33, 1, 1, "", "get_metrics_files"], [34, 1, 1, "", "run_model_for_metrics"]], "rxn.metrics.scripts": [[36, 0, 0, "-", "ensure_data_dimension"], [38, 0, 0, "-", "join_data_files"], [41, 0, 0, "-", "parse_metrics_into_csv"], [43, 0, 0, "-", "prepare_context_metrics"], [44, 0, 0, "-", "prepare_forward_metrics"], [45, 0, 0, "-", "prepare_retro_metrics"], [46, 0, 0, "-", "reorder_retro_predictions_class_token"], [48, 0, 0, "-", "rxn_evaluate_metrics"]], "rxn.metrics.scripts.ensure_data_dimension": [[37, 1, 1, "", "ensure_data_dimension"]], "rxn.metrics.scripts.join_data_files": [[39, 1, 1, "", "join_data_files"], [40, 1, 1, "", "sorted_chunk_directories"]], "rxn.metrics.scripts.parse_metrics_into_csv": [[42, 1, 1, "", "get_metric_from_dir"]], "rxn.metrics.scripts.reorder_retro_predictions_class_token": [[47, 1, 1, "", "reorder_retro_predictions_class_token"]], "rxn.metrics.tokenize_file": [[50, 1, 1, "", "classification_file_is_tokenized"], [51, 1, 1, "", "classification_string_is_tokenized"], [52, 1, 1, "", "detokenize_class"], [53, 1, 1, "", "detokenize_class_line"], [54, 1, 1, "", "detokenize_classification_file"], [55, 1, 1, "", "tokenize_class"], [56, 1, 1, "", "tokenize_class_line"], [57, 1, 1, "", "tokenize_classification_file"]], "rxn.metrics.true_reactant_accuracy": [[59, 1, 1, "", "get_standardized_true_reactants"], [60, 1, 1, "", "maybe_determine_true_reactants"], [61, 1, 1, "", "true_reactant_accuracy"], [62, 1, 1, "", "true_reactant_environment_check"]], "rxn.metrics.utils": [[64, 1, 1, "", "combine_precursors_and_products"], [65, 1, 1, "", "combine_precursors_and_products_from_files"], [66, 1, 1, "", "get_sequence_multiplier"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"]}, "titleterms": {"rxn": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67], "packag": 0, "calcul": 0, "metric": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67], "opennmt": 0, "base": 0, "model": 0, "system": 0, "requir": 0, "instal": 0, "guid": 0, "api": 1, "class_token": [3, 4, 5], "convert_class_token_idx_for_translation_model": 4, "maybe_prepare_class_token_fil": 5, "classification_transl": [6, 7, 8, 9], "create_rxn_from_fil": 8, "maybe_classify_predict": 9, "context_metr": [10, 11, 12, 13], "contextmetr": 11, "fraction_of_identical_compound": 12, "identical_fract": 13, "forward_metr": [14, 15], "forwardmetr": 15, "class_divers": 17, "coverag": 18, "round_trip_accuraci": 19, "top_n_accuraci": 20, "metrics_calcul": [21, 22], "metricscalcul": 22, "metrics_fil": [23, 24, 25, 26, 27], "contextfil": 24, "forwardfil": 25, "metricsfil": 26, "retrofil": 27, "retro_metr": [28, 29], "retrometr": 29, "run_metr": [30, 31, 32, 33, 34], "evaluate_metr": 31, "get_metrics_calcul": 32, "get_metrics_fil": 33, "run_model_for_metr": 34, "script": [35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48], "ensure_data_dimens": [36, 37], "join_data_fil": [38, 39, 40], "sorted_chunk_directori": 40, "parse_metrics_into_csv": [41, 42], "get_metric_from_dir": 42, "prepare_context_metr": 43, "prepare_forward_metr": 44, "prepare_retro_metr": 45, "reorder_retro_predictions_class_token": [46, 47], "rxn_evaluate_metr": 48, "tokenize_fil": [49, 50, 51, 52, 53, 54, 55, 56, 57], "classification_file_is_token": 50, "classification_string_is_token": 51, "detokenize_class": 52, "detokenize_class_lin": 53, "detokenize_classification_fil": 54, "tokenize_class": 55, "tokenize_class_lin": 56, "tokenize_classification_fil": 57, "true_reactant_accuraci": [58, 59, 60, 61, 62], "get_standardized_true_react": 59, "maybe_determine_true_react": 60, "true_reactant_environment_check": 62, "util": [63, 64, 65, 66], "combine_precursors_and_product": 64, "combine_precursors_and_products_from_fil": 65, "get_sequence_multipli": 66, "content": 67, "indic": 67, "tabl": 67}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})